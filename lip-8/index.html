<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.53">


<title data-react-helmet="true">Off-chain API Version 1 Extensions | Libra Improvement Proposals</title>

<meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Off-chain API Version 1 Extensions | Libra Improvement Proposals"><meta data-react-helmet="true" name="description" content="# Summary"><meta data-react-helmet="true" property="og:description" content="# Summary"><meta data-react-helmet="true" property="og:url" content="https://lip.libra.org/lip-8">

<link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico">


<link rel="stylesheet" href="/styles.182e80ce.css">


<link rel="preload" href="/styles.dec398a8.js" as="script">

<link rel="preload" href="/runtime~main.4c78e39f.js" as="script">

<link rel="preload" href="/main.2a69319c.js" as="script">

<link rel="preload" href="/1.7c238c20.js" as="script">

<link rel="preload" href="/1be78505.1f11fec4.js" as="script">

<link rel="preload" href="/ec1ed54d.642a5f79.js" as="script">

<link rel="preload" href="/17896441.1ead8a63.js" as="script">

<link rel="preload" href="/05670118.2daa7d50.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<div><nav aria-label="Libra cross-domain nav" class="root_1que"><div class="root_1P_1"><div class="width-wrapper libra-org-width"><div class="mobile-only"><div class="mainContainer_l_dZ"><div><svg width="22" height="22" class="root_AGgq"><g fill="none" fill-rule="evenodd"><circle fill="#D8D8D8" opacity="0.013" cx="11" cy="11" r="11"></circle><path d="M8 7.75a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm0 4.75a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm0 4.75a1.5 1.5 0 100-3 1.5 1.5 0 000 3z" fill="#39298C" fill-rule="nonzero"></path></g></svg></div><a href="https://libra.org"><svg fill="#42318C" class="logo_n7uz" viewBox="0 0 1229.78 330.24" alt="Libra Logo"><path d="M314.82 292.65a192 192 0 0023.31-32.92l-39.45-19.64A120.78 120.78 0 01278 266c-11 10.21-22.7 16.16-34.61 17.68-23 2.94-39.07-4.17-62.51-19.21-24.63-15.8-52.54-33.71-92.15-28.65-24 3.08-46.06 15.66-65.44 37.39A191.89 191.89 0 000 306.13l39.44 19.64a121.7 121.7 0 0120.64-25.93c10.88-10.07 22.52-16 34.62-17.51a79.51 79.51 0 0110-.66c18.14 0 32.71 7 52.52 19.71 23 14.77 51.66 33.15 92.17 28 24.48-3.16 46.5-15.51 65.43-36.73zm0-117.48a192 192 0 0023.31-32.92l-39.45-19.64A121 121 0 01278 148.53c-11 10.21-22.7 16.16-34.61 17.68-23 2.93-39.07-4.17-62.51-19.21-24.63-15.8-52.54-33.71-92.15-28.65-24 3.08-46.06 15.65-65.44 37.39A191.5 191.5 0 000 188.65l39.44 19.64a122 122 0 0120.64-25.94C71 172.29 82.6 166.4 94.7 164.85a79.51 79.51 0 0110-.66c18.14 0 32.71 7 52.52 19.71 23 14.77 51.66 33.15 92.17 28 24.48-3.16 46.5-15.51 65.43-36.73zm0-117.48a192 192 0 0023.31-32.92L298.68 5.13A121 121 0 01278 31.05c-11 10.21-22.7 16.16-34.61 17.68-23 2.93-39.07-4.17-62.51-19.21-24.6-15.8-52.51-33.71-92.12-28.65C64.72 4 42.7 16.52 23.32 38.26A191.5 191.5 0 000 71.17l39.44 19.64a122 122 0 0120.64-25.94C71 54.81 82.6 48.92 94.7 47.37a79.51 79.51 0 0110-.66c18.14 0 32.71 7 52.52 19.71 23 14.77 51.64 33.14 92.17 28 24.48-3.16 46.5-15.51 65.43-36.73zM452.56 5.45v321.16H407V5.45zm48.09 92.44v228.72h45.6V97.89zM929.5 150.7c18.77-12.62 40.86-16.24 63-12.71v-39.8a125.23 125.23 0 00-15.42-1c-31.27 0-56.07 9.56-68 26.22l-5.6 7.78V97.63h-45.64v229h45.37v-79.58c0-14.57-.16-26.82 0-41.39.29-24.04 8.39-42.91 26.29-54.96zm300.28 175.91v-229h-42.41v25.15l-5.1-4.39c-19.87-17.1-43.94-25.77-71.54-25.77-20.55 0-39.9 5-56 14.58-37 21.87-59 61.09-59 104.92s21.88 82.74 58.53 104.42c15.9 9.44 37.38 15.08 57.46 15.08 26.92 0 52-9.14 70.49-25.73l5.15-4.61v25.33zm-60.51-57.25a73.75 73.75 0 01-51.27 23.35c-.92 0-1.82.05-2.71.05-45.5 0-81.14-35.42-81.14-80.64 0-21.28 7.64-41.26 21.52-56.26 14.55-15.72 34.84-24.38 57.12-24.38 1 0 2.1 0 3.16.05a75.59 75.59 0 0152.75 23.78 78.06 78.06 0 0121.52 54v7.44a76.41 76.41 0 01-20.95 52.61zm-455.89 62.26c20.55 0 39.9-5 56-14.58 37-21.87 59-61.09 59-104.92s-21.88-82.74-58.53-104.42c-15.9-9.44-37.39-15.08-57.47-15.08-26.91 0-51.94 9.14-70.49 25.74l-5.15 4.6V5.45h-42.4v321.16h42.4v-25.15l5.11 4.39c19.87 17.15 43.94 25.77 71.53 25.77zM633.94 215v-7.44a76.46 76.46 0 0120.9-52.64 73.78 73.78 0 0151.33-23.35c.91 0 1.81-.05 2.71-.05 45.5 0 81.14 35.42 81.14 80.64 0 21.28-7.65 41.26-21.53 56.26-14.55 15.72-34.83 24.38-57.11 24.38-1 0-2.11 0-3.16-.05a75.61 75.61 0 01-52.76-23.78A78.11 78.11 0 01633.94 215zM546.25 5.45h-45.6V51h45.6z"></path></svg></a><a class="cornerLink_3bMt" href="https://libra.org/white-paper/"><svg width="45" height="46"><defs><circle id="white-paper_svg__a" cx="18" cy="18" r="18"></circle></defs><g fill="none" fill-rule="evenodd"><g transform="translate(5.5)"><mask id="white-paper_svg__b" fill="#fff"><use xlink:href="#white-paper_svg__a"></use></mask><use fill="#FAFAFA" xlink:href="#white-paper_svg__a"></use><g mask="url(#white-paper_svg__b)"><path fill="#706AAF" d="M1.555 11.624l25.862-4.089 5.343 33.676L6.897 45.3z"></path><path fill="#42318C" d="M4.57 8.377L30.654 6.1l2.977 33.966-26.086 2.278z"></path><path fill="#EFEFEF" d="M7.948 5.25h26.195v34.162H7.948z"></path><path fill="#AEAEAE" d="M11.086 11.889h11.045v1H11.086zM11.147 15.511h15.391v1h-15.39zM11.086 17.14h19.435v1H11.086zM11.086 18.83h8.208v1h-8.208zM11.086 22.814h7.001v1h-7zM11.147 24.504h15.27v1h-15.27zM11.147 29.393h15.27v1h-15.27zM11.086 26.073h8.208v1h-8.208zM11.086 27.703H23.46v1H11.086zM20.743 26.073h9.778v1h-9.778zM20.743 18.83h8.208v1h-8.208z"></path></g></g><text font-family="NBInternationalPro-Reg, NB International Pro" font-size="8" fill="#39298C" transform="translate(-1)"><tspan x="1.664" y="44">White Paper</tspan></text></g></svg></a></div></div><div class="root_1O4E desktop-only"><a class="logo_n7uz" href="https://libra.org"><svg fill="#42318C" class="logo_svg__Logo" viewBox="0 0 1229.78 330.24" alt="Libra Logo"><path d="M314.82 292.65a192 192 0 0023.31-32.92l-39.45-19.64A120.78 120.78 0 01278 266c-11 10.21-22.7 16.16-34.61 17.68-23 2.94-39.07-4.17-62.51-19.21-24.63-15.8-52.54-33.71-92.15-28.65-24 3.08-46.06 15.66-65.44 37.39A191.89 191.89 0 000 306.13l39.44 19.64a121.7 121.7 0 0120.64-25.93c10.88-10.07 22.52-16 34.62-17.51a79.51 79.51 0 0110-.66c18.14 0 32.71 7 52.52 19.71 23 14.77 51.66 33.15 92.17 28 24.48-3.16 46.5-15.51 65.43-36.73zm0-117.48a192 192 0 0023.31-32.92l-39.45-19.64A121 121 0 01278 148.53c-11 10.21-22.7 16.16-34.61 17.68-23 2.93-39.07-4.17-62.51-19.21-24.63-15.8-52.54-33.71-92.15-28.65-24 3.08-46.06 15.65-65.44 37.39A191.5 191.5 0 000 188.65l39.44 19.64a122 122 0 0120.64-25.94C71 172.29 82.6 166.4 94.7 164.85a79.51 79.51 0 0110-.66c18.14 0 32.71 7 52.52 19.71 23 14.77 51.66 33.15 92.17 28 24.48-3.16 46.5-15.51 65.43-36.73zm0-117.48a192 192 0 0023.31-32.92L298.68 5.13A121 121 0 01278 31.05c-11 10.21-22.7 16.16-34.61 17.68-23 2.93-39.07-4.17-62.51-19.21-24.6-15.8-52.51-33.71-92.12-28.65C64.72 4 42.7 16.52 23.32 38.26A191.5 191.5 0 000 71.17l39.44 19.64a122 122 0 0120.64-25.94C71 54.81 82.6 48.92 94.7 47.37a79.51 79.51 0 0110-.66c18.14 0 32.71 7 52.52 19.71 23 14.77 51.64 33.14 92.17 28 24.48-3.16 46.5-15.51 65.43-36.73zM452.56 5.45v321.16H407V5.45zm48.09 92.44v228.72h45.6V97.89zM929.5 150.7c18.77-12.62 40.86-16.24 63-12.71v-39.8a125.23 125.23 0 00-15.42-1c-31.27 0-56.07 9.56-68 26.22l-5.6 7.78V97.63h-45.64v229h45.37v-79.58c0-14.57-.16-26.82 0-41.39.29-24.04 8.39-42.91 26.29-54.96zm300.28 175.91v-229h-42.41v25.15l-5.1-4.39c-19.87-17.1-43.94-25.77-71.54-25.77-20.55 0-39.9 5-56 14.58-37 21.87-59 61.09-59 104.92s21.88 82.74 58.53 104.42c15.9 9.44 37.38 15.08 57.46 15.08 26.92 0 52-9.14 70.49-25.73l5.15-4.61v25.33zm-60.51-57.25a73.75 73.75 0 01-51.27 23.35c-.92 0-1.82.05-2.71.05-45.5 0-81.14-35.42-81.14-80.64 0-21.28 7.64-41.26 21.52-56.26 14.55-15.72 34.84-24.38 57.12-24.38 1 0 2.1 0 3.16.05a75.59 75.59 0 0152.75 23.78 78.06 78.06 0 0121.52 54v7.44a76.41 76.41 0 01-20.95 52.61zm-455.89 62.26c20.55 0 39.9-5 56-14.58 37-21.87 59-61.09 59-104.92s-21.88-82.74-58.53-104.42c-15.9-9.44-37.39-15.08-57.47-15.08-26.91 0-51.94 9.14-70.49 25.74l-5.15 4.6V5.45h-42.4v321.16h42.4v-25.15l5.11 4.39c19.87 17.15 43.94 25.77 71.53 25.77zM633.94 215v-7.44a76.46 76.46 0 0120.9-52.64 73.78 73.78 0 0151.33-23.35c.91 0 1.81-.05 2.71-.05 45.5 0 81.14 35.42 81.14 80.64 0 21.28-7.65 41.26-21.53 56.26-14.55 15.72-34.83 24.38-57.11 24.38-1 0-2.11 0-3.16-.05a75.61 75.61 0 01-52.76-23.78A78.11 78.11 0 01633.94 215zM546.25 5.45h-45.6V51h45.6z"></path></svg></a><ul class="right_1CGF"><li class="root_1cxV default_2wmT"><a href="https://libra.org/vision/" target="_self">Vision</a></li><li class="root_1cxV default_2wmT"><a href="https://libra.org/association/" target="_self">Association</a></li><li class="root_1cxV default_2wmT"><a href="https://libra.org/developers/" target="_self">Developers</a></li><li class="root_1cxV default_2wmT"><a href="https://libra.org/learn-faqs/" target="_self">Learn</a></li><li class="root_1cxV default_2wmT"><a href="https://libra.org/media-press-news/" target="_self">Media</a></li><li class="root_1cxV cta_2YWP"><a href="https://libra.org/white-paper/" target="_self">White Paper</a></li></ul></div></div></div><div class="root_1l9q"><div class="width-wrapper libra-org-width"><div class="mobile-only"><div class="mainContainer_2dgw"><div class="root_1-Sv"><span class="primary_mHKq"><b>Developers</b></span><span class="divider_WDIF"> / </span><span class="secondary_1Lwp">Governance</span></div><div><svg width="22" height="22" class="root_AGgq"><g fill="none" fill-rule="evenodd"><circle fill="#D8D8D8" opacity="0.015" cx="11" cy="11" r="11"></circle><path d="M11.266 13.869L15.89 9.28a.375.375 0 000-.531l-.62-.619a.375.375 0 00-.53 0L11 11.834 7.26 8.131a.375.375 0 00-.532 0l-.619.619a.375.375 0 000 .531l4.625 4.588a.375.375 0 00.532 0z" fill="#354052" fill-rule="nonzero"></path></g></svg></div></div></div><div class="root_2rvH desktop-only"><div class="root_1-Sv"><span class="primary_mHKq"><b>Developers</b></span><span class="divider_WDIF"> / </span><span class="secondary_1Lwp">Governance</span></div><ul class="right_2kul"><li class="root_1cxV default_2wmT"><a href="https://libra.org/developers/" target="_self">Overview</a></li><li class="root_1cxV default_2wmT"><a href="https://developers.libra.org/docs/welcome-to-libra" target="_self">Libra Docs</a></li><li class="root_1cxV default_2wmT active"><a href="https://lip.libra.org/" target="_self">Governance</a></li><li class="root_1cxV default_2wmT"><a href="https://community.libra.org/" target="_self">Community</a></li><li class="root_1cxV default_2wmT"><a href="https://github.com/libra/" target="_blank">Github</a></li></ul></div></div></div></nav><div class="navSpacer_3fKt"></div></div><div class="navPusher_36Co"><div class="main-wrapper width-wrapper"><div class="docPage_1jis"><div class="docSidebarContainer_1kjN"><nav aria-label="intra-site navigation" class="sidebar_3y9u"><div class="menu menu--responsive menu_1rsy"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list menuList_3BMp"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div><li class="menu__list-item listItem_2soo home_1kuD home main-sidebar-icon"><a class="menu__link menuLink_1_QM withBackgroundImage_2NV6" style="background-image:url(&#x27;/img/overview.png&#x27;)" href="/overview"><span>Overview</span></a></li><li class="menu__list-item listItem_2soo category_30QN" style="background-image:url(&#x27;&#x27;)"><ul class="menu__list lip-category"><li class="categoryTitle_2-gS"><a class="menu__link menuLink_1_QM">LIPS</a></li><li class="menu__list-item listItem_2soo main-sidebar-icon background-contain main-sidebar-all-lips"><a class="menu__link menuLink_1_QM withBackgroundImage_2NV6" style="background-image:url(&#x27;/img/all-lips.png&#x27;)" tabindex="0" href="/all-lips"><span>All LIPs</span></a></li><li class="menu__list-item listItem_2soo main-sidebar-icon"><a class="menu__link menuLink_1_QM withBackgroundImage_2NV6" style="background-image:url(&#x27;/img/standard-lips.svg&#x27;)" tabindex="0" href="/standard-lips"><span>Standard LIPs</span></a></li><li class="menu__list-item listItem_2soo main-sidebar-icon background-contain"><a class="menu__link menuLink_1_QM withBackgroundImage_2NV6" style="background-image:url(&#x27;/img/process-lips.png&#x27;)" tabindex="0" href="/process-lips"><span>Process LIPs</span></a></li><li class="menu__list-item listItem_2soo main-sidebar-icon lip-info-icon"><a class="menu__link menuLink_1_QM withBackgroundImage_2NV6" style="background-image:url(&#x27;/img/info-lips.svg&#x27;)" tabindex="0" href="/info-lips"><span>Informational LIPs</span></a></li></ul></li></ul></div></nav></div><main class="docMainContainer_3j_A"><div class="container docItemWrapper_1Hme"><div><div class="docItemContainer_1tAC"><article><header id="header"><h2 class="docTitle_cWlf"><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="Off-chain API Version 1 Extensions"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#Off-chain API Version 1 Extensions" title="Direct link to heading">#</a>Off-chain API Version 1 Extensions</h2></header><div id="metadata-table"><table class="metadataTable_2VQe"><tbody><tr><td>LIP</td><td>8</td></tr><tr><td>Title</td><td>Off-chain API Version 1 Extensions</td></tr><tr><td>Author</td><td><a href="https://github.com/kphfb" target="_blank">Kevin Hurley (@kphfb)</a></td></tr><tr><td>Status</td><td>Draft</td></tr><tr><td>Type</td><td>Informational</td></tr><tr><td>Created</td><td>09/18/2020</td></tr></tbody></table></div><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="summary"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#summary" title="Direct link to heading">#</a>Summary</h1><hr><p>An extension of the Off-Chain protocol to provide support for more advanced merchant use-cases.</p><hr><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="abstract--motivation"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#abstract--motivation" title="Direct link to heading">#</a>Abstract / Motivation</h1><hr><p>Version 0 of the Off-Chain Protocol is described in <a href="https://lip.libra.org/lip-1/">LIP 1</a>.  Version 1 as described here is an extension of the Off-Chain Protocol and adds features to support more advanced functionality - particularly targeted to support merchant use-cases.  This is inclusive of pull payments, recurring payments, and auth/capture flows.</p><hr><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="specification"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#specification" title="Direct link to heading">#</a>Specification</h1><hr><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="fund-pull-pre-approval"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#fund-pull-pre-approval" title="Direct link to heading">#</a>Fund Pull Pre-Approval</h1><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="version-support-supported-only-in-version-1-of-off-chain-apis"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#version-support-supported-only-in-version-1-of-off-chain-apis" title="Direct link to heading">#</a><em>VERSION SUPPORT: Supported only in version 1 of off-chain APIs</em></h3><p>Establishes a relationship between sender and recipient where the recipient can then pull funds from the sender without sender approving each transaction.  This allows recipient to bill the sender without sender approving each payment.  This relationship exists between a subaddress on the biller side and a subaddress on the sender side.  After this request is POSTed, the target VASP can use out-of-band methods to determine if this request should be granted.  If the target VASP chooses to allow the relationship to be established, the biller can create a payment object and POST to the billed party’s VASP to request funds.  The “funds_pull_approval_id” object must then match the ID established by this request.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="requestresponse-payload"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#requestresponse-payload" title="Direct link to heading">#</a>Request/Response Payload</h2><p>All requests between VASPs are structured as <a href="https://lip.libra.org/lip-1/#commandrequestobject"><code>CommandRequestObject</code>s</a> and all responses are structured as <a href="https://lip.libra.org/lip-1/#commandresponseobject"><code>CommandResponseObject</code>s</a>.  For a fund pre-approval command, the resulting request takes a form of the following:</p><div class="mdxCodeBlock_iHAB"><div class="snippet-container"><div class="snippet-header"></div><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;_ObjectType&quot;: &quot;CommandRequestObject&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;command_type&quot;: &quot;FundPullPreApprovalCommand&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;cid&quot;: &quot;88b282d6181129f682be0421d0ee9887&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;command&quot;: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;_ObjectType&quot;: &quot;FundPullPreApprovalCommand&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;_reads&quot;: {},</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;_writes&quot;: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;lbr1pg9q5zs2pg9q5zs2pg9q5zs2pgyqqqqqqqqqqqqqqspa3m_5b8403c986f53fe072301fe950d030cb&quot;: &quot;88b282d6181129f682be0421d0ee9887&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;fund_pull_pre_approval&quot;: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;address&quot;: &quot;lbr1pgfpyysjzgfpyysjzgfpyysjzgf3xycnzvf3xycsm957ne&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;biller_address&quot;: &quot;lbr1pg9q5zs2pg9q5zs2pg9q5zs2pg9skzctpv9skzcg9kmwta&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;funds_pre_approval_id&quot;: &quot;lbr1pg9q5zs2pg9q5zs2pg9q5zs2pgyqqqqqqqqqqqqqqspa3m_7b8404c986f53fe072301fe950d030de&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;expiration_timestamp&quot;: 72322, </span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;max_cumulative_amount&quot;: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                &quot;amount&quot;: 1000,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                &quot;currency&quot;: &quot;LBR&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;description&quot;: &quot;Kevin&#x27;s online shop&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;status&quot;: &quot;pending&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div></div></div></div><p>A response would look like the following:</p><div class="mdxCodeBlock_iHAB"><div class="snippet-container"><div class="snippet-header"></div><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;_ObjectType&quot;: &quot;CommandResponseObject&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;status&quot;: &quot;success&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="commandrequestobject"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#commandrequestobject" title="Direct link to heading">#</a>CommandRequestObject</h3><p>For a fund pre-approval request, the <a href="https://lip.libra.org/lip-1/#commandrequestobject">command_type</a> field is set to &quot;FundPullPreApprovalCommand&quot;.  The command object is a <a href="#fundpullpreapprovalcommand-object"><code>FundPullPreApprovalCommand</code> object</a>.</p><div class="mdxCodeBlock_iHAB"><div class="snippet-container"><div class="snippet-header"></div><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;_ObjectType&quot;: &quot;CommandRequestObject&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;command_type&quot;: &quot;FundPullPreApprovalCommand&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;cid&quot;: &quot;88b282d6181129f682be0421d0ee9887&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;command&quot;: FundPullPreApprovalCommand(),</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="fundpullpreapprovalcommand-object"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#fundpullpreapprovalcommand-object" title="Direct link to heading">#</a>FundPullPreApprovalCommand object</h3><table><thead><tr><th>Field</th><th>Type</th><th>Required?</th><th>Description</th></tr></thead><tbody><tr><td>_ObjectType</td><td>str</td><td>Y</td><td>The fixed string <code>FundPullPreApprovalCommand</code></td></tr><tr><td>fund_pull_pre_approval</td><td><a href="#fundpullpreapprovalobject"><code>FundPullPreApprovalObject</code></a></td><td>Y</td><td>contains a <code>FundPullPreApprovalObject</code> that either creates a new pre-approval or updates an existing pre-approval. Note that strict validity checks apply when updating pre-approvals, that are listed in the section below describing these Objects. An invalid update or initial pre-approval object results in a Command error</td></tr><tr><td>_reads</td><td>JSON Object map</td><td>Y</td><td>Must be an Object containing mappings of <code>reference_id</code> to latest Version as represented by the <code>cid</code> of the latest Command which successfully mutated the Object referenced by the <code>reference_id</code>. The value in this field must match a <code>cid</code> previously specified by a Command by the <code>_writes</code> parameter on a prior Command for this payment Object.  For a fund_pull_pre_approval Command, only zero or one <code>_reads</code> values should be specified since fund approvals are only dependent upon at most one prior Version of an Object. A list with any other number of items results in a Command error.  If the list is empty this fund_pull_pre_approval Command defines a new fund_pull_pre_approval. If the list contains one item, then this Command updates the shared <a href="#fundpullpreapprovalobject"><code>FundPullPreApprovalObject</code></a>.</td></tr><tr><td>_writes</td><td>JSON object map</td><td>Y</td><td>For a fund_pull_pre_approval Command, the <code>_writes</code> field may only be a single key-value pair since a fund_pull_pre_approval Command only operates upon one Object.  This field maps the <code>reference_id</code> of the Object being written to its new Version.</td></tr></tbody></table><div class="mdxCodeBlock_iHAB"><div class="snippet-container"><div class="snippet-header"></div><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;_ObjectType&quot;: &quot;FundPullPreApprovalCommand&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;_reads&quot;: {},</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;_writes&quot;: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;lbr1pg9q5zs2pg9q5zs2pg9q5zs2pgyqqqqqqqqqqqqqqspa3m_5b8403c986f53fe072301fe950d030cb&quot;: &quot;88b282d6181129f682be0421d0ee9887&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;fund_pull_pre_approval&quot;: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         FundPullPreApprovalObject(),</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="fundpullpreapprovalobject"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#fundpullpreapprovalobject" title="Direct link to heading">#</a>FundPullPreApprovalObject</h3><p>The structure in this object can be a full pre-approval or just the fields of an existing pre-approval object that need to be changed. Some fields are immutable after they are defined once (see below). Others can by updated multiple times. Updating immutable fields with a different value results in a command error, but it is acceptable to re-send the same value.</p><table><thead><tr><th>Field</th><th>Type</th><th>Required?</th><th>Description</th></tr></thead><tbody><tr><td>address</td><td>str</td><td>Required for creation</td><td>Address of account from which the pre-approval is being requested. Addresses may be single use or valid for a limited time, and therefore VASPs should not rely on them remaining stable across time or different VASP addresses. The addresses are encoded using bech32. The bech32 address encodes both the address of the VASP as well as the specific user&#x27;s subaddress. They should be no longer than 80 characters. Mandatory and immutable. For Libra addresses, refer to &quot;account identifier&quot; section in LIP-5 for format.</td></tr><tr><td>biller_address</td><td>str</td><td>Required for creation</td><td>Address of account from which billing will happen. Addresses may be single use or valid for a limited time, and therefore VASPs should not rely on them remaining stable across time or different VASP addresses. The addresses are encoded using bech32. The bech32 address encodes both the address of the VASP as well as the specific user&#x27;s subaddress. They should be no longer than 80 characters. Mandatory and immutable. For Libra addresses, refer to &quot;account identifier&quot; section in LIP-5 for format.</td></tr><tr><td>expiration_timestamp</td><td>uint</td><td>N</td><td>Unix timestamp indicating the time at which this pre-approval will expire - after which no funds pulls can occur.  To expire an existing pre-approval early, this field can be updated with the current unix timestamp.</td></tr><tr><td>funds_pre_approval_id</td><td>str</td><td>Y</td><td>Unique reference ID of this pre-approval on the pre-approval initiator VASP (the VASP which originally created this pre-approval object). This value should be unique, and formatted as “&lt;creator<em>vasp_onchain_address_bech32&gt;</em>&lt;unique_id&gt;”.  For example, ”lbr1pg9q5zs2pg9q5zs2pg9q5zs2pgyqqqqqqqqqqqqqqspa3m_7b8404c986f53fe072301fe950d030de“. Note that this should be the VASP address and thus have a subaddress portion of 0. This field is mandatory on pre-approval creation and immutable after that.  Updates to an existing pre-approval must also include the previously created pre-approval ID.</td></tr><tr><td>max_cumulative_amount</td><td><a href="#currencyobject">CurrencyObject</a></td><td>N</td><td>Max cumulative amount that is approved for funds pre-approval.  This is the sum across all transactions that occur while utilizing this funds pre-approval.</td></tr><tr><td>description</td><td>str</td><td>N</td><td>Description of the funds pre-approval.  May be utilized so show the user a description about the request for funds pre-approval</td></tr><tr><td>status</td><td>str enum</td><td>N</td><td>Status of this pre-approval. See <a href="#pre-approval-status-enum">Pre-Approval Status Enum</a> for valid statuses.</td></tr></tbody></table><div class="mdxCodeBlock_iHAB"><div class="snippet-container"><div class="snippet-header"></div><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;address&quot;: &quot;lbr1pgfpyysjzgfpyysjzgfpyysjzgf3xycnzvf3xycsm957ne&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;biller_address&quot;: &quot;lbr1pg9q5zs2pg9q5zs2pg9q5zs2pg9skzctpv9skzcg9kmwta&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;funds_pre_approval_id&quot;: &quot;lbr1pg9q5zs2pg9q5zs2pg9q5zs2pgyqqqqqqqqqqqqqqspa3m_7b8404c986f53fe072301fe950d030de&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;expiration_timestamp&quot;: 72322, </span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;max_cumulative_amount&quot;: CurrencyObject(),</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;description&quot;: &quot;Kevin&#x27;s online shop&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;status&quot;: &quot;valid&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="currencyobject"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#currencyobject" title="Direct link to heading">#</a>CurrencyObject</h3><p>Represents an amount and the currency type.</p><table><thead><tr><th>Field</th><th>Type</th><th>Required?</th><th>Description</th></tr></thead><tbody><tr><td>amount</td><td>uint</td><td>Y</td><td>Base units are the same as for on-chain transactions for this currency.  For example, if LibraUSD is represented on-chain where “1” equals 1e-6 dollars, then “1” equals the same amount here.  For any currency, the on-chain mapping must be used for amounts.</td></tr><tr><td>currency</td><td>str enum</td><td>Y</td><td>One of the supported on-chain currency types - ex. LBR, etc.</td></tr></tbody></table><div class="mdxCodeBlock_iHAB"><div class="snippet-container"><div class="snippet-header"></div><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;amount&quot;: 100,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;currency&quot;: &quot;LBR&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="pre-approval-status-enum"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#pre-approval-status-enum" title="Direct link to heading">#</a>Pre Approval Status Enum</h3><p>Valid values are:</p><ul><li><code>pending</code> - Pending user/VASP approval.</li><li><code>valid</code> - Approved by the user/VASP and ready for usage.</li><li><code>rejected</code> - User/VASP did not approve the pre-approval request.</li><li><code>closed</code> - Approval has been closed by the user/VASP and can no longer be used.</li></ul><p><strong>Valid Status Transitions</strong>. Either party in the pre-approval agreement can mutate the status. The status always initially begins as <code>pending</code> at which time a user must agree to the pre-approval request.  Once the user has reviewed the request, the billee VASP will update the pre-approval status to <code>valid</code> (if the user agreed) or <code>rejected</code> (if the user rejected the pre-approval).</p><p>At any point, the user can withdraw permission at which point the status will be updated to <code>closed</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="commandresponseobject"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#commandresponseobject" title="Direct link to heading">#</a>CommandResponseObject</h3><p>All responses to a CommandRequestObject are in the form of a <a href="basic_building_blocks.md#commandresponseobject">CommandResponseObject</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="usage-of-a-pre-approval"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#usage-of-a-pre-approval" title="Direct link to heading">#</a>Usage of a pre-approval</h2><p>Pre-approval usage manifests as an extension of <a href="https://lip.libra.org/lip-1/#paymentcommand-object">PaymentCommand</a>.  The extension happens primarily within the <a href="https://lip.libra.org/lip-1/#paymentobject">PaymentObject</a> as seen below.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="paymentobject-extension"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#paymentobject-extension" title="Direct link to heading">#</a>PaymentObject Extension</h3><p>Payment object remains the same as <a href="https://lip.libra.org/lip-1/#paymentobject">PaymentObject</a>, but adds the following fields:</p><table><thead><tr><th>Field</th><th>Type</th><th>Required?</th><th>Description</th></tr></thead><tbody><tr><td>funds_pre_approval_id</td><td>str</td><td>N</td><td>ID of the funds pre-approval previously created via a <a href="#fundpullpreapprovalcommand-object">FundPullPreApprovalCommand</a>.  Must match the value of &quot;funds_pre_approval_id&quot; in the already-created funds pre-approval.</td></tr></tbody></table><p>In addition, the &quot;_reads&quot; field of the PaymentObject must contain the latest version of the FundPullPreApprovalObject.</p><hr><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="authcapture"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#authcapture" title="Direct link to heading">#</a>Auth/Capture</h1><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="version-support-supported-only-in-version-1-of-off-chain-apis-1"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#version-support-supported-only-in-version-1-of-off-chain-apis-1" title="Direct link to heading">#</a><em>VERSION SUPPORT: Supported only in version 1 of off-chain APIs</em></h3><p>Authorization allows the placing of holds on funds with the assurance that an amount up to the held amount can be captured at a later time.  An example of this is for delayed fulfillment or pre-authorizing an expected amount to ensure that an amount can be charged after services are rendered.</p><p>When an authorization happens, the VASP agreeing to the authorization must lock the funds for the specified amount of time - the VASP is agreeing to a guarantee that the funds will be available if later captured.</p><p>Auth/capture is an extension of <a href="https://lip.libra.org/lip-1/#paymentcommand-object">PaymentCommand</a>.  The extension happens primarily within the <a href="https://lip.libra.org/lip-1/#paymentactionobject">PaymentActionObject</a> and the status changes within the <a href="https://lip.libra.org/lip-1/#paymentactorobject">PaymentActor</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="paymentactionobject-extension"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#paymentactionobject-extension" title="Direct link to heading">#</a>PaymentActionObject Extension</h3><p>The <a href="https://lip.libra.org/lip-1/#paymentactionobject">PaymentActionObject</a> now becomes:</p><table><thead><tr><th>Field</th><th>Type</th><th>Required?</th><th>Description</th></tr></thead><tbody><tr><td>amount</td><td>uint</td><td>Y</td><td>Amount of the transfer.  Base units are the same as for on-chain transactions for this currency.  For example, if LibraUSD is represented on-chain where “1” equals 1e-6 dollars, then “1” equals the same amount here.  For any currency, the on-chain mapping must be used for amounts.</td></tr><tr><td>currency</td><td>enum</td><td>Y</td><td>One of the supported on-chain currency types - ex. LBR, etc.</td></tr><tr><td>action</td><td>enum</td><td>Y</td><td>Populated in the request.  This value indicates the requested action to perform. For a normal transfer, &quot;charge&quot; is still used.  For auth and capture, &quot;auth&quot; and &quot;capture&quot; are now available.  &quot;capture&quot; can only be performed after a valid &quot;auth&quot;</td></tr><tr><td>valid_until</td><td>uint</td><td>N</td><td>Unix timestamp indicating the time period for which this authorization is valid.  Once this time has been reached, the authorization is no longer able to be captured and funds should be unlocked.</td></tr><tr><td>timestamp</td><td>uint</td><td>Y</td><td>Unix timestamp indicating the time that the payment Command was created.</td></tr></tbody></table><div class="mdxCodeBlock_iHAB"><div class="snippet-container"><div class="snippet-header"></div><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;amount&quot;: 100,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;currency&quot;: &quot;LBR&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;action&quot;: &quot;auth&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;valid_until&quot;: 74000,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;timestamp&quot;: 72322,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="statusenum"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#statusenum" title="Direct link to heading">#</a>StatusEnum</h3><p>The auth/capture flow now adds the following to the status enum of <a href="https://lip.libra.org/lip-1/#paymentactorobject">PaymentActor</a>:</p><ul><li><code>authorized</code> - Payment amount is authorized but not yet captured.</li></ul><p><code>abort</code> may still be used to cancel the authorization early.  Once a capture action occurs, the status of the payment will now be updated to <code>ready_for_settlement</code>.</p><p><strong>Valid Status Transitions</strong>. <code>authorized</code> is now a valid initial value and may be followed by <code>ready_for_settlement</code> (upon a successful capture) or <code>abort</code> (if one side wishes to cancel the auth).</p></div><div class="margin-bottom--lg margin-top--xl"><div class="copyright_2KXk">Copyright Notice: This documentation is made available under the Creative Commons Attribution 4.0 International (CC BY 4.0) license (available at<a href="https://creativecommons.org/licenses/by/4.0/" target="blank"> https://creativecommons.org/licenses/by/4.0/</a>).</div></div></article></div></div><div class="root_8Z_c"><div class="root_1i3D"><a class="backgroundIcon_1ksJ" style="background-image:url(&#x27;/img/shared/edit.svg&#x27;)" href="https://github.com/libra/lip/edit/master/lips/lip-8.md" target="_blank">Edit</a><label class="toggle_1FtV"><div class="react-toggle react-toggle--disabled"><div class="react-toggle-track"><div class="react-toggle-track-check"></div><div class="react-toggle-track-x"></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><span>Dark Mode</span></label></div><div class="root_1UF_"><span class="title_1uUK">On This Page</span><ul class="category_2Qio"><li class="heading_2ndx"><a href="#header" class="contentsLink_30JX">Off-chain API Version 1 Extensions</a></li><li class="heading_2ndx"><a href="#metadata-table" class="contentsLink_30JX">Meta data</a></li><li class="heading_2ndx"><a href="#version-support-supported-only-in-version-1-of-off-chain-apis" class="contentsLink_30JX"><em>VERSION SUPPORT: Supported only in version 1 of off-chain APIs</em></a></li><li class="heading_2ndx"><a href="#requestresponse-payload" class="contentsLink_30JX">Request/Response Payload</a><ul class="category_2Qio"><li class="heading_2ndx"><a href="#commandrequestobject" class="contentsLink_30JX">CommandRequestObject</a></li><li class="heading_2ndx"><a href="#fundpullpreapprovalcommand-object" class="contentsLink_30JX">FundPullPreApprovalCommand object</a></li><li class="heading_2ndx"><a href="#fundpullpreapprovalobject" class="contentsLink_30JX">FundPullPreApprovalObject</a></li><li class="heading_2ndx"><a href="#currencyobject" class="contentsLink_30JX">CurrencyObject</a></li><li class="heading_2ndx"><a href="#pre-approval-status-enum" class="contentsLink_30JX">Pre Approval Status Enum</a></li><li class="heading_2ndx"><a href="#commandresponseobject" class="contentsLink_30JX">CommandResponseObject</a></li></ul></li><li class="heading_2ndx"><a href="#usage-of-a-pre-approval" class="contentsLink_30JX">Usage of a pre-approval</a><ul class="category_2Qio"><li class="heading_2ndx"><a href="#paymentobject-extension" class="contentsLink_30JX">PaymentObject Extension</a></li><li class="heading_2ndx"><a href="#version-support-supported-only-in-version-1-of-off-chain-apis-1" class="contentsLink_30JX"><em>VERSION SUPPORT: Supported only in version 1 of off-chain APIs</em></a></li><li class="heading_2ndx"><a href="#paymentactionobject-extension" class="contentsLink_30JX">PaymentActionObject Extension</a></li><li class="heading_2ndx"><a href="#statusenum" class="contentsLink_30JX">StatusEnum</a></li></ul></li></ul></div></div></div></main></div></div><footer><div class="spacer_1x4Y"><div class="container_1nSa"><div class="logo_5rC0"><a href="https://libra.org/"><svg fill="#42318C" class="logo_svg__Logo" viewBox="0 0 1229.78 330.24" alt="Libra Logo"><path d="M314.82 292.65a192 192 0 0023.31-32.92l-39.45-19.64A120.78 120.78 0 01278 266c-11 10.21-22.7 16.16-34.61 17.68-23 2.94-39.07-4.17-62.51-19.21-24.63-15.8-52.54-33.71-92.15-28.65-24 3.08-46.06 15.66-65.44 37.39A191.89 191.89 0 000 306.13l39.44 19.64a121.7 121.7 0 0120.64-25.93c10.88-10.07 22.52-16 34.62-17.51a79.51 79.51 0 0110-.66c18.14 0 32.71 7 52.52 19.71 23 14.77 51.66 33.15 92.17 28 24.48-3.16 46.5-15.51 65.43-36.73zm0-117.48a192 192 0 0023.31-32.92l-39.45-19.64A121 121 0 01278 148.53c-11 10.21-22.7 16.16-34.61 17.68-23 2.93-39.07-4.17-62.51-19.21-24.63-15.8-52.54-33.71-92.15-28.65-24 3.08-46.06 15.65-65.44 37.39A191.5 191.5 0 000 188.65l39.44 19.64a122 122 0 0120.64-25.94C71 172.29 82.6 166.4 94.7 164.85a79.51 79.51 0 0110-.66c18.14 0 32.71 7 52.52 19.71 23 14.77 51.66 33.15 92.17 28 24.48-3.16 46.5-15.51 65.43-36.73zm0-117.48a192 192 0 0023.31-32.92L298.68 5.13A121 121 0 01278 31.05c-11 10.21-22.7 16.16-34.61 17.68-23 2.93-39.07-4.17-62.51-19.21-24.6-15.8-52.51-33.71-92.12-28.65C64.72 4 42.7 16.52 23.32 38.26A191.5 191.5 0 000 71.17l39.44 19.64a122 122 0 0120.64-25.94C71 54.81 82.6 48.92 94.7 47.37a79.51 79.51 0 0110-.66c18.14 0 32.71 7 52.52 19.71 23 14.77 51.64 33.14 92.17 28 24.48-3.16 46.5-15.51 65.43-36.73zM452.56 5.45v321.16H407V5.45zm48.09 92.44v228.72h45.6V97.89zM929.5 150.7c18.77-12.62 40.86-16.24 63-12.71v-39.8a125.23 125.23 0 00-15.42-1c-31.27 0-56.07 9.56-68 26.22l-5.6 7.78V97.63h-45.64v229h45.37v-79.58c0-14.57-.16-26.82 0-41.39.29-24.04 8.39-42.91 26.29-54.96zm300.28 175.91v-229h-42.41v25.15l-5.1-4.39c-19.87-17.1-43.94-25.77-71.54-25.77-20.55 0-39.9 5-56 14.58-37 21.87-59 61.09-59 104.92s21.88 82.74 58.53 104.42c15.9 9.44 37.38 15.08 57.46 15.08 26.92 0 52-9.14 70.49-25.73l5.15-4.61v25.33zm-60.51-57.25a73.75 73.75 0 01-51.27 23.35c-.92 0-1.82.05-2.71.05-45.5 0-81.14-35.42-81.14-80.64 0-21.28 7.64-41.26 21.52-56.26 14.55-15.72 34.84-24.38 57.12-24.38 1 0 2.1 0 3.16.05a75.59 75.59 0 0152.75 23.78 78.06 78.06 0 0121.52 54v7.44a76.41 76.41 0 01-20.95 52.61zm-455.89 62.26c20.55 0 39.9-5 56-14.58 37-21.87 59-61.09 59-104.92s-21.88-82.74-58.53-104.42c-15.9-9.44-37.39-15.08-57.47-15.08-26.91 0-51.94 9.14-70.49 25.74l-5.15 4.6V5.45h-42.4v321.16h42.4v-25.15l5.11 4.39c19.87 17.15 43.94 25.77 71.53 25.77zM633.94 215v-7.44a76.46 76.46 0 0120.9-52.64 73.78 73.78 0 0151.33-23.35c.91 0 1.81-.05 2.71-.05 45.5 0 81.14 35.42 81.14 80.64 0 21.28-7.65 41.26-21.53 56.26-14.55 15.72-34.83 24.38-57.11 24.38-1 0-2.11 0-3.16-.05a75.61 75.61 0 01-52.76-23.78A78.11 78.11 0 01633.94 215zM546.25 5.45h-45.6V51h45.6z"></path></svg></a></div><ul class="linkList_1rHB primary_3pKl"><li class="primary_3pKl"><a href="https://libra.org/vision/">Vision</a></li><li class="primary_3pKl"><a href="https://libra.org/association/">Association</a></li><li class="primary_3pKl"><a href="https://libra.org/developers/">Developers</a></li><li class="primary_3pKl"><a href="https://libra.org/learn-faqs/">Learn</a></li></ul><ul class="linkList_1rHB primary_3pKl"><li class="primary_3pKl"><a href="https://libra.org/media-press-news/">Media</a></li><li class="primary_3pKl"><a href="https://libra.org/white-paper/">White Paper</a></li><li class="primary_3pKl"><a href="https://libra.org/careers/">Careers</a></li></ul><ul class="linkList_1rHB secondary_17rk"><li class="secondary_17rk"><a href="https://libra.org/privacy/">Privacy</a></li><li class="secondary_17rk"><a href="https://libra.org/privacy/#cookies_policy">Cookies</a></li><li class="secondary_17rk"><a href="https://libra.org/privacy/#terms_of_use">Terms of Use</a></li><li class="secondary_17rk"><a href="https://developers.libra.org/docs/policies/code-of-conduct">Code of Conduct</a></li></ul><div class="connect_19zz"><ul class="root_1DBI"><li><a href="https://twitter.com/libradev"><svg width="22" height="17"><path d="M22 2.006c-.81.341-1.679.571-2.593.675.933-.53 1.648-1.37 1.985-2.37a9.35 9.35 0 01-2.866 1.04 4.623 4.623 0 00-3.294-1.354c-2.493 0-4.514 1.919-4.514 4.284 0 .337.04.664.117.977C7.083 5.08 3.758 3.374 1.532.781A4.103 4.103 0 00.92 2.936c0 1.486.796 2.798 2.007 3.566a4.675 4.675 0 01-2.044-.536v.053c0 2.077 1.555 3.809 3.62 4.202a4.75 4.75 0 01-2.038.074c.574 1.702 2.241 2.94 4.217 2.975a9.367 9.367 0 01-5.606 1.834c-.365 0-.724-.02-1.077-.06a13.272 13.272 0 006.918 1.926c8.303 0 12.843-6.53 12.843-12.191 0-.186-.004-.37-.013-.555A8.922 8.922 0 0022 2.006" fill="#402F8F" fill-rule="evenodd"></path></svg></a></li><li><a href="https://www.facebook.com/LibraAssociation/"><svg width="20" height="20"><defs><path id="facebook_svg__a" d="M0 0h19.997v19.968H0z"></path></defs><g fill="none" fill-rule="evenodd"><mask id="facebook_svg__b" fill="#fff"><use xlink:href="#facebook_svg__a"></use></mask><path d="M17.5 0h-15A2.506 2.506 0 000 2.496v14.976a2.504 2.504 0 002.499 2.495h7.586v-7.16H7.689V9.689h2.396V8.126c0-2.408 1.781-4.295 4.056-4.295h2.207v3.522h-1.976c-.516 0-.668.297-.668.705v1.63h2.643v3.119h-2.643v7.161H17.5a2.503 2.503 0 002.499-2.495V2.496A2.502 2.502 0 0017.5 0" fill="#402F8F" mask="url(#facebook_svg__b)"></path></g></svg></a></li><li><a href="https://www.instagram.com/libra/"><svg width="20" height="20"><g fill="#402F8F" fill-rule="evenodd"><path d="M10 0C7.284 0 6.944.012 5.877.06 4.813.11 4.086.278 3.45.525a4.893 4.893 0 00-1.771 1.152A4.884 4.884 0 00.525 3.444C.278 4.08.109 4.804.06 5.867.012 6.932 0 7.272 0 9.984c0 2.712.012 3.052.06 4.117.049 1.062.218 1.788.465 2.423a4.89 4.89 0 001.154 1.768 4.893 4.893 0 001.771 1.152c.636.247 1.362.415 2.427.463 1.067.05 1.407.061 4.123.061s3.056-.012 4.123-.06c1.065-.049 1.791-.217 2.427-.464a4.893 4.893 0 001.771-1.152 4.884 4.884 0 001.154-1.768c.247-.635.416-1.36.465-2.423.048-1.065.06-1.405.06-4.117 0-2.712-.012-3.052-.06-4.117-.049-1.062-.218-1.788-.465-2.423a4.884 4.884 0 00-1.154-1.768A4.893 4.893 0 0016.55.524C15.914.277 15.187.11 14.123.061 13.056.01 12.716 0 10 0m0 1.799c2.67 0 2.986.01 4.04.059.976.043 1.506.206 1.858.343a3.1 3.1 0 011.15.747c.35.35.566.681.748 1.147.137.353.3.881.344 1.854.048 1.054.058 1.37.058 4.035 0 2.666-.01 2.981-.058 4.035-.044.973-.207 1.501-.344 1.854a3.088 3.088 0 01-.748 1.147 3.1 3.1 0 01-1.15.747c-.352.137-.882.3-1.857.343-1.055.049-1.371.059-4.041.059-2.67 0-2.986-.01-4.04-.059-.976-.043-1.506-.206-1.858-.343a3.1 3.1 0 01-1.15-.747 3.088 3.088 0 01-.748-1.147c-.137-.353-.3-.881-.344-1.854-.048-1.054-.058-1.37-.058-4.035 0-2.666.01-2.981.058-4.035.044-.973.207-1.501.344-1.854.182-.466.398-.798.748-1.147a3.1 3.1 0 011.15-.747c.352-.137.882-.3 1.857-.343C7.014 1.809 7.33 1.799 10 1.799"></path><path d="M10.135 13.447a3.33 3.33 0 01-3.333-3.328 3.33 3.33 0 013.333-3.328 3.33 3.33 0 013.333 3.328 3.33 3.33 0 01-3.333 3.328m0-8.455A5.13 5.13 0 005 10.119a5.13 5.13 0 005.135 5.127 5.13 5.13 0 005.135-5.127 5.13 5.13 0 00-5.135-5.127M16.4 5.192a1.199 1.199 0 11-2.398-.002 1.199 1.199 0 012.398.002"></path></g></svg></a></li><li><a href="https://www.linkedin.com/company/libra-association/"><svg width="20" height="20"><path d="M16.25 0H3.75C1.68 0 0 1.68 0 3.75v12.5C0 18.32 1.68 20 3.75 20h12.5c2.07 0 3.75-1.68 3.75-3.75V3.75C20 1.68 18.32 0 16.25 0zM6.184 16.977H3.077l-.018-9.303h3.107l.018 9.303zM4.552 6.457h-.018c-1.015 0-1.67-.7-1.67-1.571 0-.893.676-1.569 1.71-1.569 1.033 0 1.667.676 1.688 1.569 0 .871-.658 1.571-1.71 1.571zm12.404 10.52h-3.134v-5.054c0-1.223-.324-2.055-1.418-2.055-.835 0-1.286.562-1.503 1.106-.08.195-.102.462-.102.736v5.267H7.65l-.018-9.303h3.15l.017 1.313c.403-.622 1.073-1.502 2.678-1.502 1.989 0 3.476 1.298 3.476 4.09v5.402h.003z" fill="#402F8F" fill-rule="nonzero"></path></svg></a></li><li><a href="https://github.com/libra/libra"><svg width="20" height="20"><path d="M15.939 15.913a8.375 8.375 0 01-3.444 2.08v-1.496c0-.787-.27-1.365-.81-1.736a8.93 8.93 0 00.933-.136c.283-.058.581-.143.898-.254.315-.11.598-.242.849-.395.25-.152.492-.35.723-.594.23-.244.424-.52.58-.829.157-.308.28-.679.372-1.111.091-.433.137-.909.137-1.429 0-1.007-.33-1.865-.986-2.574.298-.78.266-1.628-.098-2.544l-.244-.03c-.17-.019-.474.052-.913.215-.44.162-.933.429-1.48.8a8.997 8.997 0 00-2.412-.323c-.84 0-1.64.108-2.402.322a8.48 8.48 0 00-.982-.58 5.146 5.146 0 00-.742-.312 2.583 2.583 0 00-.825-.112.621.621 0 00-.098.02c-.365.923-.398 1.77-.097 2.544-.659.709-.987 1.567-.987 2.574 0 .52.045.996.137 1.429.09.432.214.803.37 1.111.157.309.35.585.582.829.23.244.472.442.722.594.251.153.534.285.85.395.316.111.615.196.899.254.283.058.593.104.932.136-.534.365-.8.943-.8 1.736v1.525a8.364 8.364 0 01-3.541-2.11 8.331 8.331 0 01-2.46-5.93c0-1.13.222-2.229.659-3.26a8.366 8.366 0 011.8-2.667A8.364 8.364 0 0110 1.599a8.37 8.37 0 015.939 2.456 8.366 8.366 0 011.8 2.666c.437 1.032.66 2.13.66 3.263a8.332 8.332 0 01-2.46 5.93M10 0C4.477 0 0 4.47 0 9.984s4.477 9.984 10 9.984 10-4.47 10-9.984S15.523 0 10 0" fill="#402F8F" fill-rule="evenodd"></path></svg></a></li></ul><a class="newsletter_2ba1" style="background-image:url(&#x27;/img/shared/newsletter.svg&#x27;)" href="https://developers.libra.org/newsletter_form" target="_blank" type="button">Join the Newsletter</a></div></div><div class="copyright_esf1">©2020 Libra Association</div></div></footer></div>
</div>

<script src="/styles.dec398a8.js"></script>

<script src="/runtime~main.4c78e39f.js"></script>

<script src="/main.2a69319c.js"></script>

<script src="/1.7c238c20.js"></script>

<script src="/1be78505.1f11fec4.js"></script>

<script src="/ec1ed54d.642a5f79.js"></script>

<script src="/17896441.1ead8a63.js"></script>

<script src="/05670118.2daa7d50.js"></script>


</body>
</html>